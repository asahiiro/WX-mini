<scroll-view scroll-y="true" style="height: 100vh;" class="scroll-container">
  <!-- Loading 状态 -->
  <view class="loading" wx:if="{{isLoading}}">
    <view>天气数据加载中...</view>
  </view>

  <!-- 非 Loading 状态下的内容 -->
  <view wx:else>
    <!-- 第一部分（原 page1） -->
    <view class="page1 {{'page1-' + currentTheme}}">
      <view class="main-container">
        <view class="temp">{{weather.temperature}}°C</view>
        <view class="temprange">{{forecasts[0].nighttemp}}°C/{{forecasts[0].daytemp}}°C</view>
        <image src="{{forecasts[0].dayIcon}}" class="icon1"/>
        <view class="weather">{{weather.weather}}</view>
        <view class="location">
          <text class="city">{{weather.city}} </text>
          <text class="province">{{weather.province}}</text>
        </view>
        <view class="week">{{forecasts[0].week}}</view>
        <view class="wind">
          <text class="winddir">{{weather.winddirection}}风 </text>
          <text class="windpow ">{{weather.windpower}}级</text>
        </view>
        <view class="reporttime">{{weather.reporttime}}</view>
      </view>

      <view class="forecast-container">
        <block wx:for="{{lastThreeDays}}" wx:key="date">
          <view class="forecast">
            <image src="{{item.dayIcon}}" class="icon2"/>
            <view>{{item.dayweather}}</view>
            <view> {{item.nighttemp}}°C ~ {{item.daytemp}}°C</view>
            <view>{{item.week}}</view>
            <view>{{item.daywind}}风</view>
            <view>{{item.daypower}}级</view>
          </view>
        </block>
      </view>
    </view>

    <!-- 第二部分（原 page2） -->
    <view class="page2 {{'page2-' + currentTheme}}">
      <view class="other-container">
        <block wx:for="{{forecasts}}" wx:key="date">
          <view class="each-day {{'each-day-' + currentTheme}}">
            <view>{{item.week}}</view>
            <view class="day">
              <view>日间</view>
              <image src="{{item.dayIcon}}" class="icon3"/>
              <view>{{item.dayweather}}</view>
              <view>{{item.daytemp}}°C</view>
              <view>{{item.daywind}}风{{item.daypower}}级</view>
            </view>
            <view class="night">
              <view>夜间</view>
              <image src="{{item.nightIcon}}" class="icon3" />
              <view>{{item.nightweather}}</view>
              <view>{{item.nighttemp}}°C</view>
              <view>{{item.nightwind}}风{{item.nightpower}}级</view>
            </view>
          </view>
        </block>
      </view>
    </view>
  </view>
</scroll-view>